# Monorepo
 
- 모노레포는 잘 정의된 관계를 가진 여러 개의 개별 프로젝트가 포함된 단일 리포지토리 입니다. 

Micro Frontends 에서 Monorepo 가 필요한 이유.
개발 과정에서 여러 패키지들을 사용하고, 패키지는 바로 코드를 사용하는 방식이 아니라, 빌드 과정이 필요하므로, 다양한 문제가 발생할 수 있습니다.
레포지토리 내 워크스페이스에 대한 분석과 시각화 기능을 호라용하면 전체를 파악할 떄 효과적입니다.
스케폴딩이나 코드 공유 그리고 사용 제한 등의 관리에 수작업이 아니라 도구를 제공하면, 좀 더 편리합니다. 

1. 여러 개의 프로젝트 (마이크로 앱) 모여 하나의 앱을 만들기 떄문에, 프로젝트는 여러 개가 필요합니다.
2. 프로젝트들이 잘 정의된 관계를 가지고 있습니다.
    - 공통으로 쓰는 코드들을 따로 뺴서 함꼐 사용하고
    - 이러한 패키지들이 의존 관계를 명확히 가지고 있어야 합니다.
    - 수정된 패키지가 어떤 마이크로 앱들에게 영향을 주는 지 확실히 알야아 힙니다.

Monorepo 의 장점

- 전체 히스토리가 한 번에 보입니다.
- 기존 코드를 활용할 떄 드는 비용이 작습니다.
- 프로젝트를 새로 생성할 떄, 비용이 작습니다.
- 각 프로젝트마다 설정이 일관적이고 같은 DX 를 가질 수 있습니다.

Monorepo 의 단점

- 모노레포를 운영을 위한 추가적 학습이 필요, 모노레포 툴을 사용한다면, 툴에 대한 학습도 필요합니다.
- 상대적으로 의존성 연결이 쉽기 떄문에, 과도한 의존 관계가 나타날 수 있습니다.
- 하나의 CI를 구성할 수 있지만, 방법이 복잡할 수 있음.
- 많은 코드가 변경될 경우, 태스크 실행이 매우 느려질 수 있음.
- 저장소 자체가 빠르게 무거워질 수 있음.
- 모든 코드가 밀집되어 있어, 사소한 문제가 크게 확대될 가능성이 있습니다. 


Module 로 연관 짓는다 라는 개념을 목적으로 하나의 레포에서 관리를 하면 Monorepo, 모듈마다 레포를 각자 가지고 관리하면 Polyrepo, Multirepo 라고 합니다. 

Monorepo 구현 방식 결정.

- Local computation caching (속도) - 로컬 캐싱
   로컬 컴퓨터에서 이전에 수행된 작업의 결과를 캐싱 후, 같은 작업을 다시 수행 할 떄 시간을 절약 가능합니다.    

- Distributed computation caching (속도) - 분산 캐싱
   여러 컴퓨터 간의 캐시를 공유, 네트워크 상의 다른 머신이 같은 작업을 빠르게 수행 할 수 있도록 합니다. 

- Local task orchestration (속도) - 로컬 작업 오케스트레이션 
   단일 시스템 내에서 다양한 작업(빌드, 테스트 등)을 조율하고 자동화는 프로세스 입니다. 

- Distributed task execution (속도) - 분산 작업
   작업을 여러 컴퓨터 또는 서버에 분산시켜 실행함으로써, 작업 처리 속도를 향상시킵니다. 

- Detecting affected packages (속도) - 변경 감지
  코드 변경이 특정 패키지에 영향을 미치는지 감지하는 기능으로, 필요한 부분만 재빌드하거나 테스트하여 시간을 절약합니다.

- Workspace analysis (분석) - 작업 영역 감지 및 분석
  전체 작업 영역을 분석하여 프로젝트의 구조와 종속성을 이해하고 최적화하는 과정입니다.

- Dependency graph visualization (분석) - 의존성 그래프 시각화
  프로젝트 내의 패키지 간 의존성을 그래픽으로 표현하여 복잡한 관계를 쉽게 이해할 수 있게 도와줍니다.

- Source code sharing (관리) - 소스 코드 조각 공유
  Monorepo 내에서 공통 코드 또는 유틸리티를 여러 프로젝트에서 재사용할 수 있도록 합니다.

- Code generation (관리) - 스케폴딩
  보일러플레이트 코드를 자동으로 생성하여 개발자의 수고를 덜어주는 기능입니다.

- Consistent tooling (관리) - 일관된 도구
  전체 저장소에서 동일한 빌드, 테스트, 배포 도구를 사용하여 일관된 개발 환경을 유지합니다. 이는 도구 관리와 사용자 경험을 단순화하고 표준화합니다.

- Project constraints and visibility (중속성 관계 저한)
  프로젝트 간의 종속성과 제약 조건을 설정하고, 이를 통해 프로젝트의 구조와 상호작용을 명확하게 관리할 수 있습니다.

